# 仪表盘运营详情功能演示指南

## 🎯 功能亮点

为仪表盘增加了**交互式运营数据钻取**功能，用户可以通过简单的点击操作，深入了解运营城市和店铺的详细信息。

---

## 📍 功能位置

在仪表盘页面 (Dashboard) 的**"实际运营情况"**卡片中：

```
┌─────────────────────────────────┐
│   实际运营情况                    │
├─────────────────────────────────┤
│  ✅ 已运营城市    👁              │
│      4个                         │
│                                  │
│  🏪 已运营店铺    👁              │
│      22家                        │
└─────────────────────────────────┘
```

**注意**: 每个统计项右上角都有一个眼睛图标(👁)，提示用户可以点击查看详情。

---

## 🖱️ 使用步骤

### 方式一：查看运营城市详情

1. **点击** "已运营城市" 卡片
2. **弹出** 城市详情Modal
3. **查看** 城市统计表格，包含：
   - 省份、城市名称
   - 该城市的门店数量
   - 该城市的总订单数
   - 该城市的总营收

4. **（可选）深入钻取**：点击任意城市的"查看门店"按钮
   - 弹出该城市下所有门店的列表
   - 显示每家门店的名称、地址、订单数、营收

**示例数据**：
```
省份      城市      门店数量   总订单数    总营收
辽宁省    沈阳市    19家      150,000+    ¥2,000,000+
湖北省    仙桃市    1家       2,000+      ¥30,000+
山东省    滨州市    1家       0           ¥0
辽宁省    辽阳市    1家       2,000+      ¥25,000+
```

---

### 方式二：查看运营店铺详情

1. **点击** "已运营店铺" 卡片
2. **弹出** 店铺详情Modal（宽屏显示）
3. **查看** 完整的门店列表表格，包含：
   - 门店编号（SHOP_XX）
   - 门店名称
   - 省份、城市
   - 详细地址
   - 状态标签（绿色=营业中）
   - 总订单数（可排序）
   - 总营收（可排序）
   - 平均客单价

4. **（可选）查看详情**：点击任意门店的"详情"按钮
   - 弹出门店详细信息面板
   - 包含：门店编号、状态、地理位置、店长信息、经营数据、门店面积等

5. **（可选）排序**：点击"总订单"或"总营收"列标题进行排序
   - 快速找到业绩最好的门店

---

## 📊 数据层级结构

```
仪表盘主页
  └─ 实际运营情况
      ├─ 已运营城市 (4个)  👆 点击
      │   └─ 城市详情Modal
      │       ├─ 辽宁省-沈阳市 (19家店)
      │       │   └─ 查看门店 👆 点击
      │       │       └─ 门店列表 (19家)
      │       ├─ 湖北省-仙桃市 (1家店)
      │       ├─ 山东省-滨州市 (1家店)
      │       └─ 辽宁省-辽阳市 (1家店)
      │
      └─ 已运营店铺 (22家) 👆 点击
          └─ 店铺详情Modal
              ├─ 沈阳一二O中学店 (37,110单)
              ├─ 沈阳一二六中学店 (21,119单)
              ├─ 沈阳第一中学店 (14,820单)
              └─ ... (共22家)
                  └─ 详情 👆 点击
                      └─ 完整门店信息
```

---

## 🎨 UI特性

### 视觉提示
- ✅ **可点击区域**：鼠标悬停时显示手型指针
- 👁 **眼睛图标**：明确提示可查看详情
- 🏷️ **彩色标签**：
  - 蓝色标签：门店数量
  - 绿色标签：营业中状态
  - 橙色标签：其他状态

### 数据格式化
- 📈 **千位分隔符**：大数字自动添加逗号（如：37,110）
- 💰 **货币格式**：自动添加¥符号和格式化（如：¥2,503.60）
- 📊 **小数精度**：平均客单价保留2位小数

### 交互体验
- 📄 **分页显示**：每页显示10条记录
- 🔢 **总数提示**：底部显示"共 X 个城市"或"共 X 家门店"
- ⬆️⬇️ **排序功能**：点击列标题可升序/降序排列
- 📱 **响应式设计**：表格支持横向滚动，适配不同屏幕

---

## 🔧 技术细节

### 前端技术栈
- **React + TypeScript**
- **Ant Design 5.x**（Table, Modal, Tag, Descriptions等组件）
- **数据聚合**：前端按城市分组统计

### API调用
```
GET /api/operations/stores
  └─ 获取所有门店列表（含订单统计）

GET /api/operations/stores?status=营业中
  └─ 筛选营业中的门店

GET /api/operations/overview
  └─ 获取运营概览（含城市数、门店数）
```

### 性能优化
- 懒加载：只在用户点击时才获取详细数据
- 数据缓存：Modal打开期间数据保持，避免重复请求
- 分页显示：大数据集分页加载，提升渲染性能

---

## 📝 使用场景

### 场景1：高层管理决策
**目标**：快速了解全国运营布局
1. 点击"已运营城市"
2. 查看各城市门店分布和业绩
3. 识别重点城市和发展机会

### 场景2：区域经理巡查
**目标**：查看特定城市的门店情况
1. 点击"已运营城市"
2. 找到目标城市，点击"查看门店"
3. 查看该城市所有门店的详细数据

### 场景3：业绩分析对比
**目标**：找出业绩最好的门店
1. 点击"已运营店铺"
2. 点击"总订单"或"总营收"列标题排序
3. 查看排名靠前的门店详情

### 场景4：门店信息查询
**目标**：查找特定门店的联系方式
1. 点击"已运营店铺"
2. 找到目标门店，点击"详情"
3. 查看店长姓名和联系电话

---

## 🎉 体验提示

1. **第一次打开**：建议先点击"已运营城市"，了解整体布局
2. **快速定位**：在店铺详情Modal中使用浏览器搜索（Ctrl+F）快速定位门店
3. **数据对比**：使用排序功能快速找出业绩最好/最差的门店
4. **多层探索**：城市→门店→详情，逐层深入了解数据

---

## 🐛 故障排除

**Q: 点击后没有反应？**
A: 确保后端服务正常运行（localhost:3001），检查浏览器控制台是否有错误信息。

**Q: Modal显示空白？**
A: 可能是数据加载失败，刷新页面重试，或检查API是否返回正确数据。

**Q: 表格显示不完整？**
A: 使用表格底部的横向滚动条查看所有列，或调整浏览器窗口大小。

---

## 📞 技术支持

如有问题或建议，请查看：
- `DASHBOARD_ENHANCEMENT_SUMMARY.md` - 详细技术文档
- `frontend/src/pages/Dashboard.tsx` - 源代码实现

---

**版本**: v1.0.0  
**更新日期**: 2025-10-12  
**适用页面**: 客户画像 - Dashboard仪表盘
