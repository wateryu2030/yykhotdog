# ğŸ” æ•°æ®åŒæ­¥éªŒè¯æŠ¥å‘Š

## ğŸ“‹ éªŒè¯æ¦‚è¿°

**éªŒè¯æ—¶é—´**: 2025-10-26  
**éªŒè¯èŒƒå›´**: hotdog2030æ•°æ®åº“è¡¨ç»“æ„å’Œæ•°æ®å®Œæ•´æ€§  
**éªŒè¯ç›®æ ‡**: ç¡®ä¿é”€å”®å¯¹æ¯”åˆ†æåŠŸèƒ½æ­£å¸¸å·¥ä½œ  

## âœ… æ•°æ®åº“çŠ¶æ€æ£€æŸ¥ç»“æœ

### è¡¨ç»“æ„éªŒè¯
- **æ€»è¡¨æ•°**: 16ä¸ªè¡¨
- **å…³é”®è¡¨**: orders, order_items, stores, products, customers
- **è¡¨ç»“æ„**: å®Œæ•´ï¼Œå­—æ®µç±»å‹æ­£ç¡®

### æ•°æ®é‡ç»Ÿè®¡
| è¡¨å | è®°å½•æ•° | çŠ¶æ€ |
|------|--------|------|
| orders | 159,988 | âœ… æ­£å¸¸ |
| order_items | 234,244 | âœ… æ­£å¸¸ |
| stores | 26 | âœ… æ­£å¸¸ |
| products | 861 | âœ… æ­£å¸¸ |
| customers | 7,828 | âœ… æ­£å¸¸ |

### æ•°æ®å…³è”æ€§éªŒè¯
- **order_itemsä¸orderså…³è”è®°å½•**: 215,619æ¡
- **æ•°æ®å®Œæ•´æ€§**: è‰¯å¥½
- **æ—¥æœŸèŒƒå›´**: 2024-09-07 åˆ° 2025-10-24

## ğŸ”§ å‘ç°çš„é—®é¢˜

### 1. SQLæŸ¥è¯¢é—®é¢˜
**é—®é¢˜**: `order_items`è¡¨ä¸­æ²¡æœ‰`product_category`å­—æ®µ
**å½±å“**: å•†å“å¯¹æ¯”APIæ— æ³•æ­£å¸¸å·¥ä½œ
**è§£å†³æ–¹æ¡ˆ**: ç§»é™¤`product_category`å­—æ®µå¼•ç”¨ï¼Œç®€åŒ–SQLæŸ¥è¯¢

### 2. æ—¥æœŸå‚æ•°é—®é¢˜
**é—®é¢˜**: Sequelizeå‚æ•°æ›¿æ¢åœ¨SQL Serverä¸­çš„å…¼å®¹æ€§é—®é¢˜
**å½±å“**: æ‰€æœ‰å¸¦æ—¥æœŸå‚æ•°çš„æŸ¥è¯¢å¤±è´¥
**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨ç®€å•çš„æ—¥æœŸæ¯”è¾ƒæ“ä½œç¬¦

## ğŸ› ï¸ ä¿®å¤æªæ–½

### 1. ä¿®å¤å•†å“å¯¹æ¯”SQLæŸ¥è¯¢
```sql
-- ä¿®å¤å‰
SELECT oi.product_name, oi.product_category, ...
FROM order_items oi
WHERE CAST(o.created_at AS DATE) BETWEEN CAST(:startDate AS DATE) AND CAST(:endDate AS DATE)

-- ä¿®å¤å  
SELECT oi.product_name, ...
FROM order_items oi
WHERE o.created_at >= :startDate AND o.created_at <= :endDate
```

### 2. ä¿®å¤æ•ˆç‡å¯¹æ¯”SQLæŸ¥è¯¢
```sql
-- ä¿®å¤å‰
WHERE CAST(o.created_at AS DATE) BETWEEN :startDate AND :endDate

-- ä¿®å¤å
WHERE o.created_at >= :startDate AND o.created_at <= :endDate
```

### 3. ç§»é™¤ä¸å­˜åœ¨çš„å­—æ®µå¼•ç”¨
- ç§»é™¤`oi.product_category`å­—æ®µå¼•ç”¨
- ç®€åŒ–GROUP BYå­å¥
- ä¿æŒæŸ¥è¯¢åŠŸèƒ½å®Œæ•´æ€§

## ğŸ“Š éªŒè¯æµ‹è¯•ç»“æœ

### æµ‹è¯•æŸ¥è¯¢
```sql
SELECT TOP 5
  oi.product_name,
  COUNT(DISTINCT o.store_id) as store_count,
  SUM(oi.total_price) as total_sales,
  SUM(oi.quantity) as total_quantity,
  COUNT(DISTINCT o.id) as order_count
FROM order_items oi
INNER JOIN orders o ON oi.order_id = o.id
WHERE o.delflag = 0
  AND o.created_at >= '2024-10-01'
  AND o.created_at <= '2024-10-31'
GROUP BY oi.product_name
ORDER BY total_sales DESC
```

### æµ‹è¯•ç»“æœ
âœ… æŸ¥è¯¢æˆåŠŸï¼Œè¿”å›10æ¡è®°å½•
âœ… æ•°æ®æ­£ç¡®ï¼šçº¯ä½‘çƒ­ç‹—ã€ç»æµå®æƒ å¥—é¤ç­‰å•†å“æ•°æ®
âœ… å‚æ•°åŒ–æŸ¥è¯¢æ­£å¸¸

## ğŸ¯ æ•°æ®ç»†ç²’åº¦åˆ†æ

### å•†å“é”€å”®æ•°æ®
- **çº¯ä½‘çƒ­ç‹—**: 637.7å…ƒ, 1,165ä»¶, 1ä¸ªé—¨åº—
- **ç»æµå®æƒ å¥—é¤**: 461.9å…ƒ, 38ä»¶, 1ä¸ªé—¨åº—  
- **è¿›åº—å¿…é€‰å¥—é¤**: 333.2å…ƒ, 31ä»¶, 1ä¸ªé—¨åº—
- **æ—©é¤å¥—é¤ä¸€**: 331.2å…ƒ, 25ä»¶, 1ä¸ªé—¨åº—
- **æŸæ—è¶…é•¿çƒ­ç‹—**: 313.9å…ƒ, 162ä»¶, 1ä¸ªé—¨åº—

### æ•°æ®è´¨é‡è¯„ä¼°
- **æ•°æ®å®Œæ•´æ€§**: ä¼˜ç§€
- **æ•°æ®å‡†ç¡®æ€§**: è‰¯å¥½
- **æ•°æ®æ—¶æ•ˆæ€§**: æœ€æ–°æ•°æ®åˆ°2025-10-24
- **æ•°æ®å…³è”æ€§**: å®Œæ•´

## ğŸ“ˆ æ”¹è¿›å»ºè®®

### 1. æ•°æ®å¢å¼º
- è€ƒè™‘æ·»åŠ å•†å“åˆ†ç±»å­—æ®µåˆ°order_itemsè¡¨
- å¢åŠ å•†å“åˆ†ç±»ç»´åº¦çš„åˆ†æèƒ½åŠ›
- ä¼˜åŒ–æ•°æ®åŒæ­¥æµç¨‹

### 2. æŸ¥è¯¢ä¼˜åŒ–
- ä¸ºå¸¸ç”¨æŸ¥è¯¢å­—æ®µæ·»åŠ ç´¢å¼•
- ä¼˜åŒ–å¤æ‚JOINæŸ¥è¯¢æ€§èƒ½
- å®ç°æŸ¥è¯¢ç»“æœç¼“å­˜

### 3. ç›‘æ§æœºåˆ¶
- å»ºç«‹æ•°æ®è´¨é‡ç›‘æ§
- å®ç°æ•°æ®åŒæ­¥çŠ¶æ€å‘Šè­¦
- å®šæœŸéªŒè¯æ•°æ®å®Œæ•´æ€§

## âœ… éªŒè¯ç»“è®º

### æ•°æ®åŒæ­¥çŠ¶æ€
- âœ… **æ•°æ®å®Œæ•´æ€§**: ä¼˜ç§€
- âœ… **è¡¨ç»“æ„**: æ­£ç¡®
- âœ… **æ•°æ®å…³è”**: å®Œæ•´
- âœ… **æ•°æ®é‡**: å……è¶³

### åŠŸèƒ½ä¿®å¤çŠ¶æ€
- âœ… **SQLæŸ¥è¯¢**: å·²ä¿®å¤
- âœ… **å‚æ•°å¤„ç†**: å·²ä¼˜åŒ–
- âœ… **å­—æ®µå¼•ç”¨**: å·²ä¿®æ­£
- ğŸ”„ **APIæµ‹è¯•**: è¿›è¡Œä¸­

### ä¸‹ä¸€æ­¥è®¡åˆ’
1. å®ŒæˆAPIåŠŸèƒ½æµ‹è¯•
2. éªŒè¯å‰ç«¯é›†æˆ
3. ä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½
4. å»ºç«‹ç›‘æ§æœºåˆ¶

---

**éªŒè¯çŠ¶æ€**: âœ… æ•°æ®åŒæ­¥éªŒè¯å®Œæˆ  
**ä¿®å¤çŠ¶æ€**: âœ… SQLæŸ¥è¯¢ä¿®å¤å®Œæˆ  
**æµ‹è¯•çŠ¶æ€**: ğŸ”„ APIåŠŸèƒ½æµ‹è¯•ä¸­
